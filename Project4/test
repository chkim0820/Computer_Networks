# Name: Chaehyeon Kim
# Case ID: Chaehyeon Kim
# Filename: test
# Date created: 10/30/2023
# Description: For testing proj4.cpp with samples given


#!/bin/bash
make

# 1) tcp1.trace; one TCP packet
echo "Testing tcp1.trace"
./proj4 -s -r tcp1.trace > s1.txt
./proj4 -l -r tcp1.trace > l1.txt
./proj4 -p -r tcp1.trace > p1.txt
diff -u s1.txt tcp1.s.out
diff -u l1.txt tcp1.l.out
diff -u p1.txt tcp1.p.out
echo

# 2) upd1.trace; one UDP packet
echo "Testing udp1.trace"
./proj4 -s -r udp1.trace > s2.txt
./proj4 -l -r udp1.trace > l2.txt
./proj4 -p -r udp1.trace > p2.txt
diff -u s2.txt udp1.s.out
diff -u l2.txt udp1.l.out
diff -u p2.txt udp1.p.out
echo

# 3) 10-pkts.trace; 10 packets
echo "Testing 10-pkts.trace"
./proj4 -s -r 10-pkts.trace > s3.txt
./proj4 -l -r 10-pkts.trace > l3.txt
./proj4 -p -r 10-pkts.trace > p3.txt
diff -u s3.txt 10-pkts.s.out
diff -u l3.txt 10-pkts.l.out
diff -u p3.txt 10-pkts.p.out
echo

# 4) icmp1.trace; One ICMP packet
echo "Testing icmp1.trace"
./proj4 -s -r icmp1.trace > s4.txt
./proj4 -l -r icmp1.trace > l4.txt
./proj4 -p -r icmp1.trace > p4.txt
./proj4 -c -r icmp1.trace > c4.txt
diff -u s4.txt icmp1.s.out
diff -u l4.txt icmp1.l.out
diff -u p4.txt icmp1.p.out
diff -u c4.txt icmp1.c.out
echo

# 5) 1000-pkts.trace; 1000 packets
echo "Testing 1000-pkts.trace"
./proj4 -s -r 1000-pkts.trace > s5.txt
./proj4 -l -r 1000-pkts.trace > l5.txt
./proj4 -p -r 1000-pkts.trace > p5.txt
diff -u s5.txt 1000-pkts.s.out
diff -u l5.txt 1000-pkts.l.out
diff -u p5.txt 1000-pkts.p.out
echo

# 6) manyIPs.trace; a bunch of packets with a bunch of IP addresses
echo "Testing manyIPs.trace"
./proj4 -s -r manyIPs.trace > s6.txt
diff -u s6.txt manyIPs.trace.s.out
echo

# 7) crazy.trace; 35 packets with weird cases
echo "Testing crazy.trace"
./proj4 -s -r crazy.trace > s7.txt
./proj4 -l -r crazy.trace > l7.txt
./proj4 -p -r crazy.trace > p7.txt
diff -u s7.txt crazy.s.out
diff -u l7.txt crazy.l.out
diff -u p7.txt crazy.p.out
echo

# Extra credit; for 425 portion
echo "Testing extra credit portion"
./proj4 -s -r 425.trace > s425.txt
./proj4 -l -r 425.trace > l425.txt
./proj4 -p -r 425.trace > p425.txt
echo